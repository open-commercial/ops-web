<div class="app-proveedor">
  <div class="d-flex flex-column flex-md-row align-md-items-center my-3">
    <h1 class="h3 m-0 flex-fill text-truncate">
      <a class="btn fake-cursor" placement="right" ngbPopover="Volver al Listado" triggers="mouseenter:mouseleave"
         (click)="volverAlListado()">
        <fa-icon [icon]="['fas', 'chevron-left']" [size]="'lg'"></fa-icon>
      </a>
      <fa-icon [icon]="['fas', 'truck']"></fa-icon> {{ proveedor ? proveedor.razonSocial : 'Nuevo Proveedor' }}
    </h1>
  </div>
  <form (ngSubmit)="submit()" [formGroup]="form" class="card card-body bg-light mt-2" *ngIf="form">
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="razonSocial">R. Social *</label>
          <input type="text" class="form-control" id="razonSocial" required formControlName="razonSocial"
                 [ngClass]="{ 'is-invalid': submitted && f.razonSocial.errors }">
          <div class="invalid-feedback" *ngIf="submitted && f.razonSocial.errors">
            <div *ngIf="f.razonSocial.errors.required">Requerido</div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="idFiscal">CUIT o DNI</label>
          <input type="text" class="form-control" id="idFiscal" formControlName="idFiscal">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="categoriaIVA">Categoría IVA *</label>
          <select type="text" class="form-control" id="categoriaIVA" required formControlName="categoriaIVA"
                  [ngClass]="{ 'is-invalid': submitted && f.categoriaIVA.errors }">
            <option [value]="ci.value" *ngFor="let ci of categoriasIVA">{{ ci.text }}</option>
          </select>
          <div class="invalid-feedback" *ngIf="submitted && f.categoriaIVA.errors">
            <div *ngIf="f.categoriaIVA.errors.required">Requerido</div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <app-ubicacion-form-field id="ubicacion" label="Ubicación" formControlName="ubicacion"></app-ubicacion-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="telPrimario">Telefono #1</label>
          <input type="text" class="form-control" id="telPrimario" formControlName="telPrimario">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="telSecundario">Telefono #2</label>
          <input type="text" class="form-control" id="telSecundario" formControlName="telSecundario">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="contacto">Contacto</label>
          <input type="text" class="form-control" id="contacto" formControlName="contacto">
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" class="form-control" id="email" formControlName="email"
                 [ngClass]="{ 'is-invalid': submitted && f.email.errors }">
          <div class="invalid-feedback" *ngIf="submitted && f.email.errors">
            <div *ngIf="f.email.errors.email">Email Inválido</div>
          </div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="web">Página Web</label>
      <input type="url" class="form-control" id="web" formControlName="web">
    </div>
    <div class="text-right">
      <button class="btn btn-primary" type="submit">Guardar</button>
    </div>
  </form>
</div>
