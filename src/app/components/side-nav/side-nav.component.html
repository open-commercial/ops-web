<div class="side-nav">
  <div class="text-end mb-2">
    <button class="btn btn-primary me-2" (click)="optionClick()">
      <fa-icon [icon]="['fas', 'times']"></fa-icon>
    </button>
  </div>
  <div *ngIf="tieneRolAdministrador" 
        class="ops-accordion styleEstadisticas d-flex align-items-center"
        (keydown)="handleKeyDown($event)" 
        (click)="optionClick(); closeSidenav()"
        routerLink="/dashboard"
        style="cursor: pointer;">
      <fa-icon [icon]="['fas', 'square-poll-vertical']" class="icon ps-3"></fa-icon>
      <span>Dashboard</span>
  </div>
  <ngb-accordion id="menu" class="ops-accordion" [closeOthers]="true" #accordion [activeIds]="accordionActiveId" (panelChange)="beforeChange($event)">
    <ng-template ngFor let-m [ngForOf]="menuData">
      <ngb-panel [id]="m.id" *ngIf="m.show">
        <ng-template ngbPanelTitle>
          <span class="d-flex align-items-center">
            <fa-icon [icon]="['fas', accordion.isExpanded(m.id) ? 'chevron-up' : 'chevron-down']" class="me-2"></fa-icon>
            <span>{{ m.seccion }}</span>
          </span>
        </ng-template>
        <ng-template ngbPanelContent>
          <ul class="nav flex-column nav-pills" *ngIf="m.rutas.length">
            <ng-template ngFor let-r [ngForOf]="m.rutas">
              <li class="nav-item" *ngIf="r.show">
                <a class="nav-link" [routerLink]="r.route" routerLinkActive="active" (click)="optionClick()">
                  <fa-icon [icon]="r.icon"></fa-icon> {{ r.name }}
                </a>
              </li>
            </ng-template>
          </ul>
        </ng-template>
      </ngb-panel>
    </ng-template>
  </ngb-accordion>
</div>